POST /g/collect?v=2&tid=G-MJYFRXB3ZX&gtm=45je36s0&_p=1303343184&cid=1687488833.1675933087&ul=zh-cn&sr=1920x1080&uaa=x86&uab=64&uafvl=Not.A%252FBrand%3B8.0.0.0%7CChromium%3B114.0.5735.199%7CGoogle%2520Chrome%3B114.0.5735.199&uamb=0&uam=&uap=Windows&uapv=15.0.0&uaw=0&_eu=BA&ngs=1&sid=1688377217&sct=8&seg=1&dl=https%3A%2F%2Fsegmentfault.com%2Fsearch%3Fq%3DBest%2Bpractices%2Bfor%2Bexporting%2Band%2Bimporting%2Bdata%2Bfrom%2BAmazon%2BAurora%2BMySQL%2Bto%2BAmazon%2BS3%2Bby%2BSuresh%2BPatnam%2Band%2BMahesh%2BGoyal%2B%257C%2Bon%2B15%2BJUN%2B2020%2B%257C%2Bin%2BAmazon%2BAurora%252C%2BMySQL%2BCompatible%2B%257C%2BPermalink%2B%257C%2B%2BComments%2B%257C%2B%2BShare%2BYou%2Bcan%2Bbuild%2Bhighly%2Bdistributed%2Bapplications%2Busing%2Ba%2Bmultitude%2Bof%2Bpurpose-built%2Bdatabases%2Bby%2Bdecoupling%2Bcomplex%2Bapplications%2Binto%2Bsmaller%2Bpieces%252C%2Bwhich%2Ballows%2Byou%2Bto%2Bchoose%2Bthe%2Bright%2Bdatabase%2Bfor%2Bthe%2Bright%2Bjob.%2BAmazon%2BAurora%2Bis%2Bthe%2Bpreferred%2Bchoice%2Bfor%2BOLTP%2Bworkloads.%2BAurora%2Bmakes%2Bit%2Beasy%2Bto%2Bset%2Bup%252C%2Boperate%252C%2Band%2Bscale%2Ba%2Brelational%2Bdatabase%2Bin%2Bthe%2Bcloud.%2B%2BThis%2Bpost%2Bdemonstrates%2Bhow%2Byou%2Bcan%2Bexport%2Band%2Bimport%2Bthe%2Bdata%2Bfrom%2BAurora%2BMySQL%2Bto%2BAmazon%2BSimple%2BStorage%2BService%2B%2528Amazon%2BS3%2529%2Band%2Bshares%2Bassociated%2Bbest%2Bpractices.%2BExport%2Bimport%2Bdata%2Bto%2BAmazon%2BS3%2Bfeature%2Bis%2Balso%2Bavailable%2Bfor%2BAmazon%2BAurora%2BPostgreSQL.%2BThis%2Bblog%2Bpost%2Bfocuses%2Bon%2BAmazon%2BAurora%2BMySQL.%2B%2BOverview%2Bof%2BAurora%2Band%2BAmazon%2BS3%2BAurora%2Bis%2Ba%2BMySQL%2Band%2BPostgreSQL-compatible%2Brelational%2Bdatabase%2Bbuilt%2Bfor%2Bthe%2Bcloud%252C%2Bwhich%2Bcombines%2Bthe%2Bperformance%2Band%2Bavailability%2Bof%2Btraditional%2Benterprise%2Bdatabases%2Bwith%2Bthe%2Bsimplicity%2Band%2Bcost-effectiveness%2Bof%2Bopen-source%2Bdatabases.%2B%2BAmazon%2BS3%2Bis%2Ban%2Bobject%2Bstorage%2Bservice%2Bthat%2Boffers%2Bindustry-leading%2Bscalability%252C%2Bdata%2Bavailability%252C%2Bsecurity%252C%2Band%2Bperformance.%2BThis%2Bmeans%2Bcustomers%2Bof%2Ball%2Bsizes%2Band%2Bindustries%2Bcan%2Buse%2Bit%2Bto%2Bstore%2Band%2Bprotect%2Bany%2Bamount%2Bof%2Bdata.%2B%2BPrerequisites%2BBefore%2Byou%2Bget%2Bstarted%252C%2Bcomplete%2Bthe%2Bfollowing%253A%2B%2BLaunch%2Ban%2BAurora%2BMySQL%2BDB%2Bcluster.%2BYou%2Bcan%2Balso%2Buse%2Ban%2Bexisting%2Bcluster.%2BLaunch%2Ban%2BAmazon%2BEC2%2Binstance%2Bthat%2Byou%2Binstalled%2Bthe%2BMySQL%2Bclient%2Bon.%2BYou%2Bcan%2Balso%2Buse%2BMySQL%2BWorkbench%2Bfor%2Bthis%2Bpurpose.%2BCreate%2Bthe%2Bfollowing%2Brequired%2BIdentity%2Band%2BAccess%2BManagement%2B%2528IAM%2529%2Bpolicies%2Band%2Broles%253A%2BCreate%2Ban%2BIAM%2Bpolicy%2Bwith%2Bthe%2Bleast-restricted%2Bprivilege%2Bto%2Bthe%2Bresources%2Bin%2Bthe%2Bfollowing%2Bcode%2Band%2Bname%2Bit%2Baurora-s3-access-pol.%2BThe%2Bpolicy%2Bmust%2Bhave%2Baccess%2Bto%2Bthe%2BS3%2Bbucket%2Bwhere%2Bthe%2Bfiles%2Bare%2Bstored%2B%2528for%2Bthis%2Bpost%252C%2Bsample-loaddata01%2529.%2B%257B%2B%2B%2B%2B%2B%2522Version%2522%253A%2B%25222012-10-17%2522%252C%2B%2B%2B%2B%2B%2522Statement%2522%253A%2B%255B%2B%2B%2B%2B%2B%2B%2B%2B%2B%257B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522Effect%2522%253A%2B%2522Allow%2522%252C%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522Action%2522%253A%2B%255B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522s3%253AGetObject%2522%252C%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522s3%253AAbortMultipartUpload%2522%252C%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522s3%253ADeleteObject%2522%252C%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522s3%253AListMultipartUploadParts%2522%252C%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522s3%253APutObject%2522%252C%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522s3%253AListBucket%2522%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%255D%252C%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522Resource%2522%253A%2B%255B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522arn%253Aaws%253As3%253A%253A%253Asample-loaddata01%252F*%2522%252C%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522arn%253Aaws%253As3%253A%253A%253Asample-loaddata01%2522%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%255D%2B%2B%2B%2B%2B%2B%2B%2B%2B%257D%2B%2B%2B%2B%2B%255D%2B%257D%2BCreate%2Ban%2BIAM%2Brole%2Band%2Bmodify%2Bthe%2Btrust%2Brelationship%2Baccording%2Bto%2Bthe%2Bfollowing%2Bcode.%2BAssumeRole%2Ballows%2BAurora%2Bto%2Baccess%2Bother%2BAWS%2Bservices%2Bon%2Byour%2Bbehalf.%2B%257B%2B%2522Version%2522%253A%2B%25222012-10-17%2522%252C%2B%2B%2B%2522Statement%2522%253A%2B%255B%2B%2B%2B%2B%2B%257B%2B%2B%2B%2B%2B%2B%2B%2522Effect%2522%253A%2B%2522Allow%2522%252C%2B%2B%2B%2B%2B%2B%2B%2522Principal%2522%253A%2B%257B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2522Service%2522%253A%2B%2522rds.amazonaws.com%2522%2B%2B%2B%2B%2B%2B%2B%257D%252C%2B%2B%2B%2B%2B%2B%2B%2522Action%2522%253A%2B%2522sts%253AAssumeRole%2522%2B%2B%2B%2B%2B%257D%2B%2B%2B%255D%2B%257D%2BAttach%2Bthe%2Bpolicy%2Baurora-s3-access-pol%2Bfrom%2Bthe%2Bprevious%2Bstep.%2BFor%2Bthis%2Bpost%252C%2Bthe%2Brole%2Bis%2Bnamed%2Bs3-demo-access-role%2Band%2Bthe%2Brole%2BARN%2Bis%2Barn%253Aaws%253Aiam%253A%253A123456789012%253Arole%252Faurora-s3-access-role.%2BCreate%2Band%2Bassign%2Bparameter%2Bgroups%2Bfor%2Bthe%2Bcluster%253A%2BCreate%2Ba%2Bcustom%2Bparameter%2Bgroup%2Busing%2Bthe%2BAWS%2BCommand%2BLine%2BInterface%2B%2528AWS%2BCLI%2529.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2Baws%2Brds%2Bcreate-db-cluster-parameter-group%2B%255C%2B--db-cluster-parameter-group-name%2Baurora-cluster-para-grp%2B%255C%2B--db-parameter-group-family%2Baurora5.6%2B%255C%2B--description%2B%2522cluster%2Bparameter%2Bgroup%2Bfor%2Bs3%2Bcopy%2522%2B%2BModify%2Bthe%2Bparameter%2Bgroup%2Bto%2Bedit%2Bthe%2Bvalue%2Bof%2Bthe%2Baurora_default_s3_role%2Bparameter%2Bto%2Bthe%2BIAM%2Brole%2Bs3-demo-access-role.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2Baws%2Brds%2Bmodify-db-cluster-parameter-group%2B%255C%2B%2B%2B--db-cluster-parameter-group-name%2Baurora-cluster-para-grp%2B%255C%2B%2B%2B--parameters%2B%2522ParameterName%253Daurora_default_s3_role%252CParameterValue%253Darn%253Aaws%253Aiam%253A%253A123456789012%253Arole%252Faurora-s3-access-role%252CApplyMethod%253Dimmediate%2522%2BYou%2Bcan%2Bmap%2Bthe%2BIAM%2Brole%2Bto%2Bthe%2Baurora_select_into_s3_role%2Bparameter%2Bto%2Ballow%2Bonly%2Bdata%2Bexport%2Bor%2Bmap%2Bthe%2Baurora_load_from_s3_role%2Bparameter%2Bto%2Ballow%2Bonly%2Bdata%2Bimport%2Bfrom%2Bthe%2BS3%2Bbucket.%2BIf%2Bthe%2BIAM%2Brole%2Bisn%25E2%2580%2599t%2Bspecified%2Bfor%2Bthese%2Btwo%2Bparameters%252C%2BAurora%2Buses%2Bthe%2BIAM%2Brole%2Bspecified%2Bin%2Baws_default_s3_role%2Bfor%2Bboth%2Bexport%2Band%2Bimport.%2B%2BModify%2Bthe%2BAurora%2Bcluster%2Band%2Bassociate%2Bthe%2Bnewly%2Bcreated%2Bparameter%2Bgroup.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2Baws%2Brds%2Bmodify-db-cluster%2B%255C%2B%2B%2B--db-cluster-identifier%2Bdatabase-1%2B%255C%2B%2B%2B--db-cluster-parameter-group-name%2Baurora-cluster-para-grp%2B%255C%2B%2B%2B--apply-immediately%2BThe%2Bapply-immediately%2Bcode%2Btriggers%2Bmodification%2Band%2Basynchronously%2Bapplies%2Bchanges%2Bas%2Bsoon%2Bas%2Bpossible%2Bregardless%2Bof%2Bthe%2BPreferredMaintenanceWindow%2Bon%2Bthe%2BDB%2Bcluster.%2B%2BAssociate%2Bthe%2BIAM%2Brole%2Bto%2Bthe%2Bcluster.%2BThis%2Ballows%2Bdatabase%2Busers%2Bin%2Ban%2BAurora%2BDB%2Bcluster%2Bto%2Baccess%2Bthe%2BS3%2Bbucket.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2Baws%2Brds%2Badd-role-to-db-cluster%2B%255C%2B%2B%2B%2B%2B--db-cluster-identifier%2Bdatabase-1%2B%255C%2B%2B%2B%2B%2B--role-arn%2Barn%253Aaws%253Aiam%253A%253A123456789012%253Arole%252Faurora-s3-access-role%2BReboot%2Bthe%2Bprimary%2Binstance%2Bin%2Bthe%2Bcluster%2Bto%2Bapply%2Bthe%2Bchanges.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2Baws%2Brds%2Breboot-db-instance%2B%255C%2B%2B%2B%2B%2B%2B%2B--db-instance-identifier%2Bdatabase-1-instance-1%2BYou%25E2%2580%2599re%2Bnow%2Bready%2Bto%2Bexplore%2Bthe%2Bfollowing%2Buse%2Bcases%2Bof%2Bexporting%2Band%2Bimporting%2Bdata.%2B%2BExporting%2Bdata%2Bfrom%2BAurora%2BMySQL%2Bto%2BAmazon%2BS3%2BTo%2Bexport%2Byour%2Bdata%252C%2Bcomplete%2Bthe%2Bfollowing%2Bsteps%253A%2B%2BConnect%2Bto%2Bthe%2Bcluster%2Bas%2Bthe%2Bmaster%2Buser.%2BBy%2Bdefault%252C%2Bthe%2Bmaster%2Buser%2Bhas%2Bpermission%2Bto%2Bexport%2Band%2Bimport%2Bdata%2Bfrom%2BAmazon%2BS3.%2BFor%2Bthis%2Bpost%252C%2Byou%2Bcreate%2Ba%2Btest%2Buser%2Bwith%2Bthe%2Bleast-required%2Bpermission%2Bto%2Bexport%2Bdata%2Bto%2Bthe%2BS3%2Bbucket.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2B%2524%2Bmysql%2B-h%2Bdatabase-1.cluster-xxxxxxxxxxxx.us-west-2.rds.amazonaws.com%2B-D%2Bsampledb01%2B-P%2B3306%2B-u%2Badmin01%2B-p%2BCreate%2Bthe%2Buser%2Btestuser%2Band%2Bgrant%2Bthe%2Brequired%2Bprivileges%2Bto%2Bthe%2Buser%2Bon%2Bthe%2Bdatabase.%2BThis%2Bpost%2Buses%2Bsampledb01.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2BMySQL%253E%2Bcreate%2Buser%2B%2527testuser%2527%2540%2527%2525%2527%2Bidentified%2Bby%2B%2527Password%2527%253B%2BMySQL%253E%2Bgrant%2Bselect%2Bon%2Bsampledb01.*%2Bto%2B%2527testuser%2527%2540%2527%2525%2527%253B%2BGrant%2Bthe%2BSELECT%2BINTO%2BS3%2Bprivilege%2Bto%2Btestuser%2Bwith%2Bthe%2Bfollowing%2Bcode%253A%2BMySQL%253E%2Bgrant%2BSELECT%2BINTO%2BS3%2Bon%2B*.*%2Bto%2B%2527testuser%2527%2540%2527%2525%2527%253B%2BLog%2Bin%2Bto%2Bthe%2Bcluster%2Bas%2Btestuser%253A%2B%2524%2Bmysql%2B-h%2Bdatabase-1.cluster-xxxxxxxxxxxx.us-west-2.rds.amazonaws.com%2B-D%2Bsampledb01%2B-P%2B3306%2B-u%2Btestuser%2B-p%2BFor%2Bthis%2Bpost%252C%2Byou%2Bexport%2Bthe%2Blineitem%2Btable%2Bto%2Bthe%2BS3%2Bbucket.%2BYou%2Bcan%2Buse%2Bany%2Bexisting%2Btable%2Bin%2Byour%2Bdatabase%2B%2528preferably%2Bsmall%2Bsize%2529%2Bto%2Btest%2Bthis%2Bfeature.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2BMySQL%253E%2Bdescribe%2Blineitem%253B%2B%252B-----------------%252B-------------%252B------%252B-----%252B---------%252B-------%252B%2B%257C%2BField%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%257C%2BType%2B%2B%2B%2B%2B%2B%2B%2B%257C%2BNull%2B%257C%2BKey%2B%257C%2BDefault%2B%257C%2BExtra%2B%257C%2B%252B-----------------%252B-------------%252B------%252B-----%252B---------%252B-------%252B%2B%257C%2Borderkey%2B%2B%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Blinenumber%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bcustkey%2B%2B%2B%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bpartkey%2B%2B%2B%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bsuppkey%2B%2B%2B%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Borderdate%2B%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Borderpriority%2B%2B%2B%257C%2Bvarchar%252815%2529%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bshippriority%2B%2B%2B%2B%257C%2Bvarchar%25281%2529%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bquantity%2B%2B%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bextendedprice%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bordertotalprice%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bdiscount%2B%2B%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Brevenue%2B%2B%2B%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bsupplycost%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Btax%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Bcommitdate%2B%2B%2B%2B%2B%2B%257C%2Bint%252811%2529%2B%2B%2B%2B%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%257C%2Blshipmode%2B%2B%2B%2B%2B%2B%2B%257C%2Bvarchar%252810%2529%2B%257C%2BNO%2B%2B%2B%257C%2B%2B%2B%2B%2B%257C%2BNULL%2B%2B%2B%2B%257C%2B%2B%2B%2B%2B%2B%2B%257C%2B%252B-----------------%252B-------------%252B------%252B-----%252B---------%252B-------%252B%2B%2BThe%2Bfollowing%2Bscreenshot%2Bdisplays%2Ba%2Bfew%2Brecords%2Bfrom%2Bthe%2Blineitem%2Btable.%2B%2B%2BTo%2Bexport%2Bdata%2Bfrom%2Bthe%2BAurora%2Btable%2Bto%2Bthe%2BS3%2Bbucket%252C%2Buse%2Bthe%2BSELECT%2BINTO%2BOUTFILE%2BS3%2BThe%2Bfollowing%2Bstatement%2Bexports%2Bthe%2Bentire%2Btable%2Bto%2Bthe%2BS3%2Bbucket.%2BIf%2Byou%25E2%2580%2599re%2Btrying%2Bthis%2Bfeature%2Bout%2Bfor%2Bthe%2Bfirst%2Btime%252C%2Bconsider%2Busing%2Bthe%2BLIMIT%2Bclause%2Bfor%2Ba%2Blarger%2Btable.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2BMySQL%253E%2BSELECT%2B*%2BFROM%2Blineitem%2BINTO%2BOUTFILE%2BS3%2B%2B%2527s3%253A%252F%252Fsample-loaddata01%252Funload-data%252Ffile%2527%2BFIELDS%2BTERMINATED%2BBY%2B%2527%252C%2527%2BLINES%2BTERMINATED%2BBY%2B%2527%255Cn%2527%253B%2BQuery%2BOK%252C%2B50000000%2Brows%2Baffected%2B%25283%2Bmin%2B37.05%2Bsec%2529%2BThe%2Bfollowing%2Bcode%2Bshows%2Bthe%2Bexported%2Bfile%2Bin%2Bthe%2BS3%2Bbucket.%2BThe%2Bdefault%2Bfile%2Bsize%2Bthreshold%2Bis%2B6%2BGB.%2BBecause%2Bthe%2Bdata%2Bselected%2Bby%2Bthe%2Bstatement%2Bis%2Bless%2Bthan%2Bthe%2Bfile%2Bsize%2Bthreshold%252C%2Ba%2Bsingle%2Bfile%2Bis%2Bcreated.%2B%2B%2524aws%2Bs3%2Bls%2Bs3%253A%252F%252Fsample-loaddata01%252Funload-data%2B--recursive%2B--human-readable%2B--summarize%2B2020-04-29%2B00%253A10%253A17%2B%2B%2B%2B4.7%2BGiB%2Bunload-data%252Ffile.part_00000%2BIf%2Byou%2Bneed%2Bthe%2Bfile%2Bsize%2Bto%2Bbe%2Bsmaller%2Bthan%2B6%2BGB%252C%2Byou%2Bcan%2Bidentify%2Ba%2Bcolumn%2Bto%2Bsplit%2Bthe%2Btable%2Bdata%2Binto%2Bsmall%2Bportions%2Band%2Brun%2Bmultiple%2BSELECT%2BINTO%2BOUTFILE%2Bstatements%2B%2528using%2Bthe%2BWHERE%2Bcondition%2529.%2BIt%25E2%2580%2599s%2Bbest%2Bto%2Bdo%2Bthis%2Bwhen%2Bthe%2Bamount%2Bof%2Bdata%2Bselected%2Bis%2Bmore%2Bthan%2B25%2BGB.%2B%2BImporting%2Bdata%2Bfrom%2BAmazon%2BS3%2Bto%2BAurora%2BMySQL%2BIn%2Bthis%2Bsection%252C%2Byou%2Bload%2Bthe%2Bdata%2Bback%2Bto%2Bthe%2BAurora%2Btable%2Bfrom%2Bthe%2BAmazon%2BS3%2Bfile.%2BComplete%2Bthe%2Bfollowing%2Bsteps%253A%2B%2BGrant%2Bthe%2BLOAD%2BFROM%2BS3%2Bprivilege%2Bto%2Btestuser.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2BMySQL%253E%2Bgrant%2BLOAD%2BFROM%2BS3%2Bon%2B*.*%2Bto%2B%2527testuser%2527%2540%2527%2525%2527%253B%2BUse%2BLOAD%2BDATA%2BFROM%2BS3%2Bto%2Bimport%2Bthe%2Bdata%2Bfile%2Bfrom%2Ban%2BAmazon%2BS3%2Bprefix.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2BMySQL%2B%253E%2BLOAD%2BDATA%2BFROM%2BS3%2BPREFIX%2B%2527s3%253A%252F%252Fsample-loaddata01%252Funload-data%252Ffile%2527%2BINTO%2BTABLE%2Blineitem%2B%2BFIELDS%2BTERMINATED%2BBY%2B%2527%252C%2527%2B%2B%2B%2BLINES%2BTERMINATED%2BBY%2B%2527%255Cn%2527%2B%2528orderkey%252Clinenumber%252Ccustkey%252Cpartkey%252Csuppkey%252Corderdate%252Corderpriority%252Cshippriority%252Cquantity%252Cextendedprice%252Cordertotalprice%252Cdiscount%252Crevenue%252Csupplycost%252Ctax%252Ccommitdate%252Cshipmode%2529%253B%2BQuery%2BOK%252C%2B50000000%2Brows%2Baffected%2B%2528%2B8%2Bmin%2B16%2Bsec%2529%2BVerify%2Bthe%2Bloaded%2Bfiles%2Busing%2Bthe%2Baurora_s3_load_history%2Bsystem%2Btable.%2BSee%2Bthe%2Bfollowing%2Bcode%253A%2BMySQL%253E%2Bselect%2B*%2Bfrom%2Bmysql.aurora_s3_load_history%2Border%2Bby%2Bload_timestamp%2Bdesc%2Blimit%2B1%255CG%253B%2B%2B***************************%2B1.%2Brow%2B***********************%2B%2B%2Bload_prefix%253A%2Bs3%253A%252F%252Fsample-loaddata01%252Funload-data%252Ffile%2B%2B%2B%2B%2B%2Bfile_name%253A%2Bunload-data%252Ffile.part_00000%2Bversion_number%253A%2B%2B%2B%2Bbytes_loaded%253A%2B5052058881%2Bload_timestamp%253A%2B2020-05-05%2B18%253A09%253A53%2BBest%2Bpractices&dr=https%3A%2F%2Fsegmentfault.com%2F&dt=%E6%90%9C%E7%B4%A2%20-%20SegmentFault%20%E6%80%9D%E5%90%A6&_s=1 HTTP/1.1
Host: www.google-analytics.com
Content-Length: 15125
Sec-Ch-Ua: "Not.A/Brand";v="8", "Chromium";v="114", "Google Chrome";v="114"
Sec-Ch-Ua-Platform: "Windows"
Sec-Ch-Ua-Mobile: ?0
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36
Content-Type: text/plain;charset=UTF-8
Accept: */*
Origin: https://segmentfault.com
Sec-Fetch-Site: cross-site
Sec-Fetch-Mode: no-cors
Sec-Fetch-Dest: empty
Referer: https://segmentfault.com/
Accept-Encoding: gzip, deflate
Accept-Language: zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7

en=view_search_results&ep.search_term=Best%20practices%20for%20exporting%20and%20importing%20data%20from%20Amazon%20Aurora%20MySQL%20to%20Amazon%20S3%20by%20Suresh%20Patnam%20and%20Mahesh%20Goyal%20%7C%20on%2015%20JUN%202020%20%7C%20in%20Amazon%20Aurora%2C%20MySQL%20Compatible%20%7C%20Permalink%20%7C%20%20Comments%20%7C%20%20Share%20You%20can%20build%20highly%20distributed%20applications%20using%20a%20multitude%20of%20purpose-built%20databases%20by%20decoupling%20complex%20applications%20into%20smaller%20pieces%2C%20which%20allows%20you%20to%20choose%20the%20right%20database%20for%20the%20right%20job.%20Amazon%20Aurora%20is%20the%20preferred%20choice%20for%20OLTP%20workloads.%20Aurora%20makes%20it%20easy%20to%20set%20up%2C%20operate%2C%20and%20scale%20a%20relational%20database%20in%20the%20cloud.%20%20This%20post%20demonstrates%20how%20you%20can%20export%20and%20import%20the%20data%20from%20Aurora%20MySQL%20to%20Amazon%20Simple%20Storage%20Service%20(Amazon%20S3)%20and%20shares%20associated%20best%20practices.%20Export%20import%20data%20to%20Amazon%20S3%20feature%20is%20also%20available%20for%20Amazon%20Aurora%20PostgreSQL.%20This%20blog%20post%20focuses%20on%20Amazon%20Aurora%20MySQL.%20%20Overview%20of%20Aurora%20and%20Amazon%20S3%20Aurora%20is%20a%20MySQL%20and%20PostgreSQL-compatible%20relational%20database%20built%20for%20the%20cloud%2C%20which%20combines%20the%20performance%20and%20availability%20of%20traditional%20enterprise%20databases%20with%20the%20simplicity%20and%20cost-effectiveness%20of%20open-source%20databases.%20%20Amazon%20S3%20is%20an%20object%20storage%20service%20that%20offers%20industry-leading%20scalability%2C%20data%20availability%2C%20security%2C%20and%20performance.%20This%20means%20customers%20of%20all%20sizes%20and%20industries%20can%20use%20it%20to%20store%20and%20protect%20any%20amount%20of%20data.%20%20Prerequisites%20Before%20you%20get%20started%2C%20complete%20the%20following%3A%20%20Launch%20an%20Aurora%20MySQL%20DB%20cluster.%20You%20can%20also%20use%20an%20existing%20cluster.%20Launch%20an%20Amazon%20EC2%20instance%20that%20you%20installed%20the%20MySQL%20client%20on.%20You%20can%20also%20use%20MySQL%20Workbench%20for%20this%20purpose.%20Create%20the%20following%20required%20Identity%20and%20Access%20Management%20(IAM)%20policies%20and%20roles%3A%20Create%20an%20IAM%20policy%20with%20the%20least-restricted%20privilege%20to%20the%20resources%20in%20the%20following%20code%20and%20name%20it%20aurora-s3-access-pol.%20The%20policy%20must%20have%20access%20to%20the%20S3%20bucket%20where%20the%20files%20are%20stored%20(for%20this%20post%2C%20sample-loaddata01).%20%7B%20%20%20%20%20%22Version%22%3A%20%222012-10-17%22%2C%20%20%20%20%20%22Statement%22%3A%20%5B%20%20%20%20%20%20%20%20%20%7B%20%20%20%20%20%20%20%20%20%20%20%20%20%22Effect%22%3A%20%22Allow%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%22Action%22%3A%20%5B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22s3%3AGetObject%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22s3%3AAbortMultipartUpload%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22s3%3ADeleteObject%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22s3%3AListMultipartUploadParts%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22s3%3APutObject%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22s3%3AListBucket%22%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%22Resource%22%3A%20%5B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22arn%3Aaws%3As3%3A%3A%3Asample-loaddata01%2F*%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22arn%3Aaws%3As3%3A%3A%3Asample-loaddata01%22%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%20%20%20%20%20%20%20%20%20%7D%20%20%20%20%20%5D%20%7D%20Create%20an%20IAM%20role%20and%20modify%20the%20trust%20relationship%20according%20to%20the%20following%20code.%20AssumeRole%20allows%20Aurora%20to%20access%20other%20AWS%20services%20on%20your%20behalf.%20%7B%20%22Version%22%3A%20%222012-10-17%22%2C%20%20%20%22Statement%22%3A%20%5B%20%20%20%20%20%7B%20%20%20%20%20%20%20%22Effect%22%3A%20%22Allow%22%2C%20%20%20%20%20%20%20%22Principal%22%3A%20%7B%20%20%20%20%20%20%20%20%20%22Service%22%3A%20%22rds.amazonaws.com%22%20%20%20%20%20%20%20%7D%2C%20%20%20%20%20%20%20%22Action%22%3A%20%22sts%3AAssumeRole%22%20%20%20%20%20%7D%20%20%20%5D%20%7D%20Attach%20the%20policy%20aurora-s3-access-pol%20from%20the%20previous%20step.%20For%20this%20post%2C%20the%20role%20is%20named%20s3-demo-access-role%20and%20the%20role%20ARN%20is%20arn%3Aaws%3Aiam%3A%3A123456789012%3Arole%2Faurora-s3-access-role.%20Create%20and%20assign%20parameter%20groups%20for%20the%20cluster%3A%20Create%20a%20custom%20parameter%20group%20using%20the%20AWS%20Command%20Line%20Interface%20(AWS%20CLI).%20See%20the%20following%20code%3A%20aws%20rds%20create-db-cluster-parameter-group%20%5C%20--db-cluster-parameter-group-name%20aurora-cluster-para-grp%20%5C%20--db-parameter-group-family%20aurora5.6%20%5C%20--description%20%22cluster%20parameter%20group%20for%20s3%20copy%22%20%20Modify%20the%20parameter%20group%20to%20edit%20the%20value%20of%20the%20aurora_default_s3_role%20parameter%20to%20the%20IAM%20role%20s3-demo-access-role.%20See%20the%20following%20code%3A%20aws%20rds%20modify-db-cluster-parameter-group%20%5C%20%20%20--db-cluster-parameter-group-name%20aurora-cluster-para-grp%20%5C%20%20%20--parameters%20%22ParameterName%3Daurora_default_s3_role%2CParameterValue%3Darn%3Aaws%3Aiam%3A%3A123456789012%3Arole%2Faurora-s3-access-role%2CApplyMethod%3Dimmediate%22%20You%20can%20map%20the%20IAM%20role%20to%20the%20aurora_select_into_s3_role%20parameter%20to%20allow%20only%20data%20export%20or%20map%20the%20aurora_load_from_s3_role%20parameter%20to%20allow%20only%20data%20import%20from%20the%20S3%20bucket.%20If%20the%20IAM%20role%20isn%E2%80%99t%20specified%20for%20these%20two%20parameters%2C%20Aurora%20uses%20the%20IAM%20role%20specified%20in%20aws_default_s3_role%20for%20both%20export%20and%20import.%20%20Modify%20the%20Aurora%20cluster%20and%20associate%20the%20newly%20created%20parameter%20group.%20See%20the%20following%20code%3A%20aws%20rds%20modify-db-cluster%20%5C%20%20%20--db-cluster-identifier%20database-1%20%5C%20%20%20--db-cluster-parameter-group-name%20aurora-cluster-para-grp%20%5C%20%20%20--apply-immediately%20The%20apply-immediately%20code%20triggers%20modification%20and%20asynchronously%20applies%20changes%20as%20soon%20as%20possible%20regardless%20of%20the%20PreferredMaintenanceWindow%20on%20the%20DB%20cluster.%20%20Associate%20the%20IAM%20role%20to%20the%20cluster.%20This%20allows%20database%20users%20in%20an%20Aurora%20DB%20cluster%20to%20access%20the%20S3%20bucket.%20See%20the%20following%20code%3A%20aws%20rds%20add-role-to-db-cluster%20%5C%20%20%20%20%20--db-cluster-identifier%20database-1%20%5C%20%20%20%20%20--role-arn%20arn%3Aaws%3Aiam%3A%3A123456789012%3Arole%2Faurora-s3-access-role%20Reboot%20the%20primary%20instance%20in%20the%20cluster%20to%20apply%20the%20changes.%20See%20the%20following%20code%3A%20aws%20rds%20reboot-db-instance%20%5C%20%20%20%20%20%20%20--db-instance-identifier%20database-1-instance-1%20You%E2%80%99re%20now%20ready%20to%20explore%20the%20following%20use%20cases%20of%20exporting%20and%20importing%20data.%20%20Exporting%20data%20from%20Aurora%20MySQL%20to%20Amazon%20S3%20To%20export%20your%20data%2C%20complete%20the%20following%20steps%3A%20%20Connect%20to%20the%20cluster%20as%20the%20master%20user.%20By%20default%2C%20the%20master%20user%20has%20permission%20to%20export%20and%20import%20data%20from%20Amazon%20S3.%20For%20this%20post%2C%20you%20create%20a%20test%20user%20with%20the%20least-required%20permission%20to%20export%20data%20to%20the%20S3%20bucket.%20See%20the%20following%20code%3A%20%24%20mysql%20-h%20database-1.cluster-xxxxxxxxxxxx.us-west-2.rds.amazonaws.com%20-D%20sampledb01%20-P%203306%20-u%20admin01%20-p%20Create%20the%20user%20testuser%20and%20grant%20the%20required%20privileges%20to%20the%20user%20on%20the%20database.%20This%20post%20uses%20sampledb01.%20See%20the%20following%20code%3A%20MySQL%3E%20create%20user%20'testuser'%40'%25'%20identified%20by%20'Password'%3B%20MySQL%3E%20grant%20select%20on%20sampledb01.*%20to%20'testuser'%40'%25'%3B%20Grant%20the%20SELECT%20INTO%20S3%20privilege%20to%20testuser%20with%20the%20following%20code%3A%20MySQL%3E%20grant%20SELECT%20INTO%20S3%20on%20*.*%20to%20'testuser'%40'%25'%3B%20Log%20in%20to%20the%20cluster%20as%20testuser%3A%20%24%20mysql%20-h%20database-1.cluster-xxxxxxxxxxxx.us-west-2.rds.amazonaws.com%20-D%20sampledb01%20-P%203306%20-u%20testuser%20-p%20For%20this%20post%2C%20you%20export%20the%20lineitem%20table%20to%20the%20S3%20bucket.%20You%20can%20use%20any%20existing%20table%20in%20your%20database%20(preferably%20small%20size)%20to%20test%20this%20feature.%20See%20the%20following%20code%3A%20MySQL%3E%20describe%20lineitem%3B%20%20-----------------%20-------------%20------%20-----%20---------%20-------%20%20%7C%20Field%20%20%20%20%20%20%20%20%20%20%20%7C%20Type%20%20%20%20%20%20%20%20%7C%20Null%20%7C%20Key%20%7C%20Default%20%7C%20Extra%20%7C%20%20-----------------%20-------------%20------%20-----%20---------%20-------%20%20%7C%20orderkey%20%20%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20linenumber%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20custkey%20%20%20%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20partkey%20%20%20%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20suppkey%20%20%20%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20orderdate%20%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20orderpriority%20%20%20%7C%20varchar(15)%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20shippriority%20%20%20%20%7C%20varchar(1)%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20quantity%20%20%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20extendedprice%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20ordertotalprice%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20discount%20%20%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20revenue%20%20%20%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20supplycost%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20tax%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20commitdate%20%20%20%20%20%20%7C%20int(11)%20%20%20%20%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%7C%20lshipmode%20%20%20%20%20%20%20%7C%20varchar(10)%20%7C%20NO%20%20%20%7C%20%20%20%20%20%7C%20NULL%20%20%20%20%7C%20%20%20%20%20%20%20%7C%20%20-----------------%20-------------%20------%20-----%20---------%20-------%20%20%20The%20following%20screenshot%20displays%20a%20few%20records%20from%20the%20lineitem%20table.%20%20%20To%20export%20data%20from%20the%20Aurora%20table%20to%20the%20S3%20bucket%2C%20use%20the%20SELECT%20INTO%20OUTFILE%20S3%20The%20following%20statement%20exports%20the%20entire%20table%20to%20the%20S3%20bucket.%20If%20you%E2%80%99re%20trying%20this%20feature%20out%20for%20the%20first%20time%2C%20consider%20using%20the%20LIMIT%20clause%20for%20a%20larger%20table.%20See%20the%20following%20code%3A%20MySQL%3E%20SELECT%20*%20FROM%20lineitem%20INTO%20OUTFILE%20S3%20%20's3%3A%2F%2Fsample-loaddata01%2Funload-data%2Ffile'%20FIELDS%20TERMINATED%20BY%20'%2C'%20LINES%20TERMINATED%20BY%20'%5Cn'%3B%20Query%20OK%2C%2050000000%20rows%20affected%20(3%20min%2037.05%20sec)%20The%20following%20code%20shows%20the%20exported%20file%20in%20the%20S3%20bucket.%20The%20default%20file%20size%20threshold%20is%206%20GB.%20Because%20the%20data%20selected%20by%20the%20statement%20is%20less%20than%20the%20file%20size%20threshold%2C%20a%20single%20file%20is%20created.%20%20%24aws%20s3%20ls%20s3%3A%2F%2Fsample-loaddata01%2Funload-data%20--recursive%20--human-readable%20--summarize%202020-04-29%2000%3A10%3A17%20%20%20%204.7%20GiB%20unload-data%2Ffile.part_00000%20If%20you%20need%20the%20file%20size%20to%20be%20smaller%20than%206%20GB%2C%20you%20can%20identify%20a%20column%20to%20split%20the%20table%20data%20into%20small%20portions%20and%20run%20multiple%20SELECT%20INTO%20OUTFILE%20statements%20(using%20the%20WHERE%20condition).%20It%E2%80%99s%20best%20to%20do%20this%20when%20the%20amount%20of%20data%20selected%20is%20more%20than%2025%20GB.%20%20Importing%20data%20from%20Amazon%20S3%20to%20Aurora%20MySQL%20In%20this%20section%2C%20you%20load%20the%20data%20back%20to%20the%20Aurora%20table%20from%20the%20Amazon%20S3%20file.%20Complete%20the%20following%20steps%3A%20%20Grant%20the%20LOAD%20FROM%20S3%20privilege%20to%20testuser.%20See%20the%20following%20code%3A%20MySQL%3E%20grant%20LOAD%20FROM%20S3%20on%20*.*%20to%20'testuser'%40'%25'%3B%20Use%20LOAD%20DATA%20FROM%20S3%20to%20import%20the%20data%20file%20from%20an%20Amazon%20S3%20prefix.%20See%20the%20following%20code%3A%20MySQL%20%3E%20LOAD%20DATA%20FROM%20S3%20PREFIX%20's3%3A%2F%2Fsample-loaddata01%2Funload-data%2Ffile'%20INTO%20TABLE%20lineitem%20%20FIELDS%20TERMINATED%20BY%20'%2C'%20%20%20%20LINES%20TERMINATED%20BY%20'%5Cn'%20(orderkey%2Clinenumber%2Ccustkey%2Cpartkey%2Csuppkey%2Corderdate%2Corderpriority%2Cshippriority%2Cquantity%2Cextendedprice%2Cordertotalprice%2Cdiscount%2Crevenue%2Csupplycost%2Ctax%2Ccommitdate%2Cshipmode)%3B%20Query%20OK%2C%2050000000%20rows%20affected%20(%208%20min%2016%20sec)%20Verify%20the%20loaded%20files%20using%20the%20aurora_s3_load_history%20system%20table.%20See%20the%20following%20code%3A%20MySQL%3E%20select%20*%20from%20mysql.aurora_s3_load_history%20order%20by%20load_timestamp%20desc%20limit%201%5CG%3B%20%20***************************%201.%20row%20***********************%20%20%20load_prefix%3A%20s3%3A%2F%2Fsample-loaddata01%2Funload-data%2Ffile%20%20%20%20%20%20file_name%3A%20unload-data%2Ffile.part_00000%20version_number%3A%20%20%20%20bytes_loaded%3A%205052058881%20load_timestamp%3A%202020-05-05%2018%3A09%3A53%20Best%20practices
en=page_view&_ee=1